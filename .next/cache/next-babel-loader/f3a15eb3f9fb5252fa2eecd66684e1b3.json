{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect, Component } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport ReactHtmlParser from \"react-html-parser\";\nimport showdown from \"showdown\";\nconst converter = new showdown.Converter();\n\nconst getArticle = url => {\n  return fetch(\"/api/articles/\" + url).then(res => {\n    return res.text();\n  }).then(res => {\n    return [res, url];\n  }).catch(err => {\n    console.log(err);\n    return null;\n  });\n};\n\nconst articleCard = (articleText, activeTags, tagsState) => {\n  let flag = true;\n  const activeCategories = activeTags.filter(obj => obj.active);\n\n  if (activeCategories.length === 0) {\n    return __jsx(\"div\", {\n      class: \"card\"\n    }, __jsx(\"div\", {\n      class: \"card-body\"\n    }, __jsx(\"h7\", {\n      class: \"card-title\"\n    }, articleText[1])));\n  } else {\n    activeCategories.forEach(obj => {\n      if (!(tagsState[obj.name].indexOf(articleText[1]) > -1)) {\n        flag = false;\n      }\n    });\n\n    if (flag) {\n      return __jsx(\"div\", {\n        class: \"card\"\n      }, __jsx(\"div\", {\n        class: \"card-body\"\n      }, __jsx(\"h7\", {\n        class: \"card-title\"\n      }, articleText[1])));\n    }\n  }\n};\n\nconst ArticlesCard = ({\n  articleURL,\n  activeTags\n}) => {\n  const location = useRouter();\n  const {\n    0: articleState,\n    1: updateArticleState\n  } = useState([\"articles loading...\"]);\n  const {\n    0: tagsState,\n    1: updateTags\n  } = useState([]); // Retrieves the list of items from the Express app\n\n  useEffect(() => {\n    Promise.all(articleURL.map(getArticle)).then(proRes => {\n      updateArticleState(proRes);\n    }).then(() => {\n      fetch(\"tags.json\").then(tags => {\n        return tags.json();\n      }).then(tags => {\n        updateTags(tags);\n      });\n    });\n  }, [articleURL, activeTags]);\n  return __jsx(\"div\", {\n    class: \"row\"\n  }, __jsx(\"div\", {\n    class: \"col-10 rounded\"\n  }, articleState.map(article => articleCard(article, activeTags, tagsState))));\n};\n\nexport default ArticlesCard;","map":null,"metadata":{},"sourceType":"module"}